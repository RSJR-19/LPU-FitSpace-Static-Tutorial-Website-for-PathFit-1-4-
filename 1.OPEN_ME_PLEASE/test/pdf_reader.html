<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Reader</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI';
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .wrapper {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .pdf-section {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
        }

        .controls {
            display: flex;
            gap: 15px;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        button {
            padding: 10px 20px;
            background-color: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        button:hover:not(:disabled) {
            background-color: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .page-info {
            font-size: 16px;
            color: #333;
            font-weight: 600;
            min-width: 120px;
            text-align: center;
        }

        #pdf-container {
            text-align: center;
            border: 2px solid #f0f0f0;
            border-radius: 8px;
            padding: 30px;
            background-color: #fafafa;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        canvas {
            max-width: 100%;
            height: auto;
            display: inline-block;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .content-section {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .content-section h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .content-section p {
            color: #555;
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 1.05em;
        }

        .content-section ul {
            margin-left: 20px;
            color: #555;
            line-height: 1.8;
        }

        .content-section li {
            margin-bottom: 10px;
        }

        .highlight {
            background-color: #fef3c7;
            padding: 20px;
            border-left: 4px solid #667eea;
            border-radius: 4px;
            margin: 20px 0;
        }

        .error {
            color: #dc3545;
            padding: 20px;
            background-color: #f8d7da;
            border-radius: 6px;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .pdf-section,
            .content-section {
                padding: 20px;
            }

            .controls {
                gap: 10px;
            }

            button {
                padding: 8px 16px;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <header>
            <h1>üìÑ PDF Viewer</h1>
            <p>View and navigate your documents seamlessly</p>
        </header>

        <div class="pdf-section">
            <div class="controls">
                <button id="prev-btn" onclick="prevPage()">‚Üê Previous</button>
                <span class="page-info">
                    Page <span id="current-page">1</span> of <span id="total-pages">0</span>
                </span>
                <button id="next-btn" onclick="nextPage()">Next ‚Üí</button>
            </div>

            <div id="pdf-container">
                <canvas id="pdf-canvas"></canvas>
            </div>
        </div>

        <div class="content-section">
            <h2>About This Document</h2>
            <p>
                This PDF viewer is built using PDF.js, a powerful JavaScript library that enables seamless PDF rendering in web browsers. It provides an intuitive interface for viewing and navigating through multi-page documents directly on your website.
            </p>

            <div class="highlight">
                <strong>üí° Pro Tip:</strong> Use the Previous and Next buttons to navigate through the document, or you can enhance this viewer with keyboard shortcuts for faster navigation.
            </div>

            <h2>Key Features</h2>
            <ul>
                <li><strong>Page Navigation:</strong> Easily move between pages using the navigation buttons</li>
                <li><strong>Responsive Design:</strong> Works perfectly on desktop, tablet, and mobile devices</li>
                <li><strong>Smooth Rendering:</strong> High-quality PDF rendering with smooth scrolling</li>
                <li><strong>Lightweight:</strong> Uses a CDN-hosted library for fast loading</li>
                <li><strong>Accessible:</strong> Built with accessibility standards in mind</li>
            </ul>

            <h2>How to Use</h2>
            <p>
                To use this PDF viewer on your website, simply place your PDF file in a <code>resources</code> folder relative to your HTML file, and update the file path in the JavaScript code. The viewer will automatically load and display your document with all navigation controls ready to use.
            </p>
        </div>
    </div>

    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        let pdfDoc = null;
        let currentPage = 1;

        async function loadPDF() {
            try {
                pdfDoc = await pdfjsLib.getDocument('/assets/pdf/FMS_sheet.pdf').promise;
                document.getElementById('total-pages').textContent = pdfDoc.numPages;
                renderPage(1);
            } catch (error) {
                console.error('Error loading PDF:', error);
                document.getElementById('pdf-container').innerHTML = '<div class="error"><strong>Error loading PDF.</strong> Make sure the file exists at <code>./resources/sample.pdf</code></div>';
            }
        }

        async function renderPage(pageNum) {
            if (pdfDoc === null) return;
            
            try {
                const page = await pdfDoc.getPage(pageNum);
                const canvas = document.getElementById('pdf-canvas');
                const context = canvas.getContext('2d');
                
                const scale = 1.5;
                const viewport = page.getViewport({ scale: scale });
                
                canvas.width = viewport.width;
                canvas.height = viewport.height;
                
                await page.render({
                    canvasContext: context,
                    viewport: viewport
                }).promise;
                
                currentPage = pageNum;
                document.getElementById('current-page').textContent = pageNum;
                
                document.getElementById('prev-btn').disabled = pageNum === 1;
                document.getElementById('next-btn').disabled = pageNum === pdfDoc.numPages;
            } catch (error) {
                console.error('Error rendering page:', error);
            }
        }

        function nextPage() {
            if (currentPage < pdfDoc.numPages) {
                renderPage(currentPage + 1);
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                renderPage(currentPage - 1);
            }
        }

        window.addEventListener('load', loadPDF);
    </script>
</body>
</html>